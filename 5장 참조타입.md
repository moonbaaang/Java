# 5장 참조타입

### 메모리 영역

* 메소드 영역
  * 코드에서 사용되는 클래스들을 클래스 로더로 읽어온다.
* 힙 영역
  * 객체와 배열이 생성되는 영역으로 참조형 객체의 실제값을 저장한다.
* 스택 영역
  * 각 스레드마다 하나씩 존재하고 스레드가 시작 시 할당된다.
  * 각 변수를 저장하는 공간으로 기본형 변수는 실제값을, 참조형 변수는 주소값을 저장한다.

### 배열

* 배열 변수 사용법

  * 데이터타입 배열변수명 [ ] = new 데이터타입 [length];
  * 또는 데이터타입 [ ] 배열변수명 으로도 가능하다.

* 배열의 길이

  * 배열변수명.length

* 배열 변수값 초기화

  * 배열변수명[index] = 값;

    * 이때 0 <= index <= length-1

    * ex) ar( 5, 4, 3, 2, 1 )인 배열을 만들고 싶으면

      ```java
      int ar [ ] ; (or) int [ ] ar ; 
      
      ar = new int [ 5 ] ; >> int는 4바이트, 5개이므로 20바이트 크기
      
      ar[0] = 5, ar[1] = 4, ar[2] = 3, ar[3] = 2, ar[4] = 1; 
      
      ar[5] 는 존재하지 않음 (index의 최대값 = length -1)
      ```

1. 배열 변수 선언 시 메모리 구조
   * int ar [ ] ; 또는 int [ ] ar;
     * stack : ar:null
     * heap : -
2. 배열 생성 시 메모리 구조
   * int ar = new int[5];
     * stack : ar:100(번지수)
     * heap : 100 :`[4byte][][][]`

3. 배열 변수값 초기화
   * heap 영역에 값이 들어가게된다.

* 배열값을 저장하지 않았을 때 자동 초기화 값

| Boolean             | false                                                        |
| ------------------- | ------------------------------------------------------------ |
| char                | ‘\u0000’-unicode  16진수 0000에 해당하는 문자 >> ‘  ‘ (공백이 출력)  Unicode  코드상 ‘a’ = 97 |
| int                 |                                                              |
| double              |                                                              |
| String/  참조형변수 | null                                                         |

</br>

* String을 만드는 문법 비교
  * String sa = "java";
  * String sb = "java";
  * String sc = **new** String("java");
  * String sd = **new** String("java");

| stack                                                       | heap                                           |
| ----------------------------------------------------------- | ---------------------------------------------- |
| sd :  400 <br />sc :  300  <br />sb :  100  <br />sa :  100 | 400:  java  <br />300 : java  <br />100 : java |

* sa 와 sb는 같은 “java”
  * 동일한 메모리 주소에 저장됨

* 그러나 new 라는 키워드를 사용해 만들 경우 다른 주소에 String 작성
  * sa == sb >>> true
  * sb == sc >>> false
  * sc == sd >>> false
* sa.equals(sd) >>> true 
  * equals() 메서드는 heap에 저장된 문자열 내용을 직접 비교한다.